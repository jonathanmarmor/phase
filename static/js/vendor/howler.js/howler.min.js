/*!
 *  howler.js v1.0.1
 *  howlerjs.com
 *
 *  (c) 2013, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
(function(){var e={};var t=null,n=true;if(typeof AudioContext!=="undefined"){t=new AudioContext}else if(typeof webkitAudioContext!=="undefined"){t=new webkitAudioContext}else{n=false}if(n){var r=t.createGainNode();r.gain.value=1;r.connect(t.destination)}var i=function(){this._volume=1};i.prototype={volume:function(t){var i=this;if(t>=0&&t<=1){i._volume=t;if(n){r.gain.value=t}for(var s in e){if(e.hasOwnProperty(s)&&e[s]._webAudio===false){for(var o=0;o<e[s]._audioNode.length;o++){e[s]._audioNode[o].volume=e[s]._volume*i._volume}}}return i}else{if(n){return r.gain.value}else{return i._volume}}},mute:function(){if(n){r.gain.value=0}for(var t in e){if(e.hasOwnProperty(t)&&e[t]._webAudio===false){for(var i=0;i<e[t]._audioNode.length;i++){e[t]._audioNode[i].volume=0}}}return self},unmute:function(){var t=this;if(n){r.gain.value=t._volume}for(var i in e){if(e.hasOwnProperty(i)&&e[i]._webAudio===false){for(var s=0;s<e[i]._audioNode.length;s++){e[i]._audioNode[s].volume=e[i]._volume*t._volume}}}return t}};window.Howler=new i;var s=new Audio;var o={mp3:!!s.canPlayType("audio/mpeg;").replace(/^no$/,""),ogg:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!s.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),m4a:!!(s.canPlayType("audio/x-m4a;")||s.canPlayType("audio/aac;")).replace(/^no$/,"")};s=null;var u=window.Howl=function(e){var i=this;i._autoplay=e.autoplay||false;i._buffer=e.buffer||false;i._duration=e.duration||0;i._loop=e.loop||false;i._loaded=false;i._sprite=e.sprite||{};i._src=e.src||"";i._pos=e.pos||0;i._volume=e.volume||1;i._urls=e.urls||[];i._onload=[e.onload||function(){}];i._onend=[e.onend||function(){}];i._onpause=[e.onpause||function(){}];i._onendTimer=[];i._webAudio=n&&!i._buffer;if(!i._webAudio){i._audioNode=[]}else{i._gainNode=t.createGainNode();i._gainNode.gain.value=i._volume;i._gainNode.connect(r)}i.load()};u.prototype={load:function(){var t=this,n=null;for(var r=0;r<t._urls.length;r++){var i=t._urls[r].toLowerCase().match(/.+\.([^?]+)(\?|$)/)[1],s=false;switch(i){case"mp3":s=o.mp3;break;case"ogg":s=o.ogg;break;case"wav":s=o.wav;break;case"m4a":s=o.m4a;break}if(s===true){n=t._urls[r];break}}if(!n){return}t._src=n;if(t._webAudio){a(t,n)}else{var u=new Audio;t._audioNode.push(u);u.src=n;u.preload="auto";u.volume=t._volume;var f=function(){t._duration=u.duration;t._loaded=true;t.on("load");if(t._autoplay){t.play()}e[n]=t;u.removeEventListener("canplaythrough",f,false)};u.addEventListener("canplaythrough",f,false);u.load()}return t},urls:function(e){var t=this;if(e){t._urls=e;t.stop();t.load();return t}else{return t._urls}},play:function(e){var n=this;if(!n._loaded){n.on("load",function(){n.play(e)});return n}if(e&&!n._sprite[e]){return n}var r=e?n._sprite[e][0]/1e3:n._pos,i=e?n._sprite[e][1]/1e3:n._duration-r;var s=Date.now()+"";(function(){var t={id:s,sprite:e};n._onendTimer.push(setTimeout(function(){if(n._loop){n.stop().play(e)}if(!n._webAudio){n.pause(t.id)}n.on("end")},i*1e3))})();if(n._webAudio){l(n);n._playStart=t.currentTime;n.bufferSource.noteGrainOn(0,r,i)}else{n.inactiveNode(function(e){e.id=s;e.currentTime=r;e.play()})}return n},pause:function(e){var n=this;if(!n._loaded){n.on("load",function(){n.pause(e)});return n}if(n._onendTimer[0]){clearTimeout(n._onendTimer[0]);n._onendTimer.splice(0,1)}if(n._webAudio){if(!n.bufferSource){return n}n._pos+=t.currentTime-n._playStart;n.bufferSource.noteOff(0)}else{var r=e?n.nodeById(e):n.activeNode();if(r){n._pos=r.currentTime;r.pause()}}n.on("pause");return n},stop:function(){var e=this;e._pos=0;if(!e._loaded){e.on("load",function(){e.stop()});return e}if(e._onendTimer[0]){clearTimeout(e._onendTimer[0]);e._onendTimer.splice(0,1)}if(e._webAudio){if(!e.bufferSource){return e}e.bufferSource.noteOff(0)}else{var t=e.activeNode();if(t){t.pause();t.currentTime=0}}return e},mute:function(){var e=this;if(!e._loaded){e.on("load",function(){e.mute()});return e}if(e._webAudio){e._gainNode.gain.value=0}else{var t=e.activeNode();if(t){t.volume=0}}return e},unmute:function(){var e=this;if(!e._loaded){e.on("load",function(){e.unmute()});return e}if(e._webAudio){e._gainNode.gain.value=e._volume}else{var t=e.activeNode();if(t){t.volume=e._volume}}return e},volume:function(e){var t=this;if(!t._loaded){t.on("load",function(){t.volume(e)});return t}if(e>=0&&e<=1){t._volume=e;if(t._webAudio){t._gainNode.gain.value=e}else{var n=t.activeNode();if(n){n.volume=e*u.volume()}}return t}else{return t._volume}},loop:function(e){var t=this;if(typeof e==="boolean"){t._loop=e;return t}else{return t._loop}},sprite:function(e){var t=this;if(typeof e==="object"){t._sprite=e;return t}else{return t._sprite}},pos:function(e){var n=this;if(!n._loaded){n.on("load",function(){n.pos(e)});return n}if(n._webAudio){if(e>=0){n._pos=e;n.pause().play();return n}else{return n._pos+(t.currentTime-n._playStart)}}else{var r=n.activeNode();if(!r){return n}if(e>=0){r.currentTime=e;return n}else{return r.currentTime}}},fadeIn:function(e,t,n){var r=this,i=e,s=i/.01,o=t/s;if(!r._loaded){r.on("load",function(){r.fadeIn(e,t,n)});return r}r.volume(0).play();for(var u=1;u<=s;u++){(function(){var t=r._volume+.01*u,i=e;setTimeout(function(){r.volume(t);if(t===i){if(n)n()}},o*u)})()}return r},fadeOut:function(e,t,n){var r=this,i=r._volume-e,s=i/.01,o=t/s;if(!r._loaded){r.on("load",function(){r.fadeOut(e,t,n)});return r}for(var u=1;u<=s;u++){(function(){var t=r._volume-.01*u,i=e;setTimeout(function(){r.volume(t);if(t===i){if(n)n();r.pause()}},o*u)})()}return r},nodeById:function(e){var t=this,n=null;for(var r=0;r<t._audioNode.length;r++){if(t._audioNode[r].id===e){n=t._audioNode[r];break}}return n},activeNode:function(){var e=this,t=null;for(var n=0;n<e._audioNode.length;n++){if(!e._audioNode[n].paused){t=e._audioNode[n];break}}e.drainPool();return t},inactiveNode:function(e){var t=this,n=null;for(var r=0;r<t._audioNode.length;r++){if(t._audioNode[r].paused){e(t._audioNode[r]);n=true;break}}t.drainPool();if(n){return}t.load();var i=t._audioNode[t._audioNode.length-1];i.addEventListener("loadedmetadata",function(){e(i)})},drainPool:function(){var e=this,t=0,n;for(n=0;n<e._audioNode.length;n++){if(e._audioNode[n].paused){t++}}for(n=0;n<e._audioNode.length;n++){if(t<=5){break}if(e._audioNode[n].paused){t--;e._audioNode.splice(n,1)}}},on:function(e,t){var n=this,r=n["_on"+e];if(t){r.push(t)}else{for(var i=0;i<r.length;i++){r[i].call()}}}};if(n){var a=function(n,r){if(r in e){f(n)}else{var i=new XMLHttpRequest;i.open("GET",r,true);i.responseType="arraybuffer";i.onload=function(){t.decodeAudioData(i.response,function(t){if(t){e[r]=t;f(n,t)}})};i.send()}};var f=function(e,t){e._duration=t?t.duration:e._duration;e._loaded=true;e.on("load");if(e._autoplay){e.play()}};var l=function(n){n.bufferSource=t.createBufferSource();n.bufferSource.buffer=e[n._src];n.bufferSource.connect(n._gainNode);n.bufferSource.loop=n._loop}}})()